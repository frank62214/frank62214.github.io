import{i as K,k as D,l as C,d as N,m as O,c as P,w as T,f as i,j as $,e as R,a as e,u as x,t as p,F as A,h as E,b as B,T as M,o as a,_ as V}from"./index-BqKZDtSd.js";import{M as S}from"./MainLayout-DSy9ExBl.js";const I=""+new URL("image-CcIGevkB.png",import.meta.url).href,j=""+new URL("image1-BLChrixO.png",import.meta.url).href,F=""+new URL("image2-BQwhXcT5.png",import.meta.url).href,H=""+new URL("image3-_gj34ZZH.png",import.meta.url).href,Q=""+new URL("k8s1-1-Do-UdlNQ.png",import.meta.url).href,z=""+new URL("k8s1-2-fhbVK00J.png",import.meta.url).href,Z=""+new URL("k8s1-3-C9sycbL0.png",import.meta.url).href,G=""+new URL("k8s1-4-CzkECtDA.png",import.meta.url).href,J=""+new URL("k8s1-5-0AQ9vF1-.png",import.meta.url).href;function W(b){const g=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,m=b.match(g);if(!m)return{data:{},content:b};const[,h,f]=m,l={},k=h.split(`
`);let s="",c=!1;for(const y of k){const u=y.trim();if(!u)continue;if(u.startsWith("-")){if(c&&s){const _=u.substring(1).trim();l[s]||(l[s]=[]),l[s].push(_)}continue}const r=u.indexOf(":");if(r!==-1){const _=u.substring(0,r).trim(),n=u.substring(r+1).trim();s=_,c=!n,n&&(l[_]=n,c=!1)}}return{data:l,content:f.trim()}}function X(){const b=K([]),g=K(!0),m=K(null),h=async()=>{try{g.value=!0,m.value=null;const l=Object.entries(Object.assign({"../articles/Kubernetes/Kubernetes-三大工具/Kubernetes-三大工具.md":()=>C(()=>import("./Kubernetes-三大工具-DXaQfkIK.js"),[],import.meta.url).then(s=>s.default),"../articles/Kubernetes/Kubernetes-簡介/Kubernetes-簡介.md":()=>C(()=>import("./Kubernetes-簡介-BD1xhKju.js"),[],import.meta.url).then(s=>s.default),"../articles/README.md":()=>C(()=>import("./README-DA2unZbt.js"),[],import.meta.url).then(s=>s.default)})).filter(([s])=>(s.split("/").pop()||"")!=="README.md").map(async([s,c],y)=>{const u=await c(),{data:r,content:_}=W(u),n=s.split("/"),t=n[n.length-1];let o,d,v;return n.length>=5?(o=n[n.length-3],d=n[n.length-2],v=`../articles/${o}/${d}/images`):(o="未分類",d=t.replace(".md",""),v="../articles/images"),{id:y+1,title:r.title||d||"未命名文章",date:r.date||new Date().toISOString().split("T")[0],category:r.category||"未分類",series:o,excerpt:r.excerpt||"",tags:r.tags||[],content:_,imagePath:v}}),k=await Promise.all(l);b.value=k.sort((s,c)=>new Date(c.date).getTime()-new Date(s.date).getTime())}catch(f){m.value="載入文章時發生錯誤",console.error("Error loading articles:",f)}finally{g.value=!1}};return D(()=>{h()}),{articles:b,loading:g,error:m,loadArticles:h}}const Y={key:0,class:"archives-page"},q={class:"archives-content"},ee={key:0,class:"loading-state"},te={key:1,class:"error-state"},se={key:2,class:"empty-state"},ne={key:3,class:"articles-list"},oe={class:"article-meta"},le={class:"article-date"},re={class:"article-category"},ae={class:"article-title"},ie={class:"article-excerpt"},ce={class:"article-tags"},ue={class:"article-footer"},de=["onClick"],pe={key:0,class:"article-detail"},ge={class:"detail-container"},me={class:"detail-meta"},_e={class:"detail-date"},ve={class:"detail-category"},he={class:"detail-title"},fe={class:"detail-tags"},be=["innerHTML"],ye=N({__name:"Archives",setup(b){const{articles:g,loading:m,error:h}=X(),f=K(!1),l=K(null),k=n=>{l.value=n,window.scrollTo({top:0,behavior:"smooth"})},s=()=>{l.value=null,window.scrollTo({top:0,behavior:"smooth"})},c=()=>{window.scrollTo({top:0,behavior:"smooth"})},y=()=>{f.value=window.scrollY>300};D(()=>{window.addEventListener("scroll",y)}),O(()=>{window.removeEventListener("scroll",y)});const u=Object.assign({"../articles/Kubernetes/Kubernetes-三大工具/images/image.png":I,"../articles/Kubernetes/Kubernetes-三大工具/images/image1.png":j,"../articles/Kubernetes/Kubernetes-三大工具/images/image2.png":F,"../articles/Kubernetes/Kubernetes-三大工具/images/image3.png":H,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-1.png":Q,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-2.png":z,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-3.png":Z,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-4.png":G,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-5.png":J}),r={};Object.entries(u).forEach(([n,t])=>{r[n]=t;const o=n.split("/").pop()||"";r[o]||(r[o]=t)});const _=(n,t)=>n.replace(/^# (.+)$/gm,"<h1>$1</h1>").replace(/^## (.+)$/gm,"<h2>$1</h2>").replace(/^### (.+)$/gm,"<h3>$1</h3>").replace(/```(\w+)?\n([\s\S]*?)```/g,'<pre><code class="language-$1">$2</code></pre>').replace(/`([^`]+)`/g,"<code>$1</code>").replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(o,d,v)=>{const w=v.split("/").pop();let L=v;if(t&&w){const U=`${t.imagePath}/${w}`;L=r[U]||r[w]||v}else w&&(L=r[w]||v);return`<img src="${L}" alt="${d}" />`}).replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/\n\n/g,"<br><br>").replace(/\n/g,"<br>");return(n,t)=>(a(),P(S,null,{default:T(()=>[l.value?$("",!0):(a(),i("div",Y,[t[5]||(t[5]=e("div",{class:"archives-header"},[e("h1",{class:"page-title"},"文章歸檔"),e("p",{class:"page-subtitle"},"探索技術、記錄成長")],-1)),e("div",q,[x(m)?(a(),i("div",ee,[...t[0]||(t[0]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"載入文章中...",-1)])])):x(h)?(a(),i("div",te,[t[1]||(t[1]=e("div",{class:"error-icon"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})])],-1)),t[2]||(t[2]=e("h2",null,"載入失敗",-1)),e("p",null,p(x(h)),1)])):x(g).length===0?(a(),i("div",se,[...t[3]||(t[3]=[e("div",{class:"empty-icon"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"}),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e("polyline",{points:"10 9 9 9 8 9"})])],-1),e("h2",null,"尚未發布文章",-1),e("p",null,"文章正在撰寫中，敬請期待...",-1)])])):(a(),i("div",ne,[(a(!0),i(A,null,E(x(g),o=>(a(),i("article",{key:o.id,class:"article-card"},[e("div",oe,[e("span",le,p(o.date),1),e("span",re,p(o.category),1)]),e("h2",ae,p(o.title),1),e("p",ie,p(o.excerpt),1),e("div",ce,[(a(!0),i(A,null,E(o.tags,d=>(a(),i("span",{key:d,class:"tag"},p(d),1))),128))]),e("div",ue,[e("button",{class:"read-more",onClick:d=>k(o)},[...t[4]||(t[4]=[B(" 閱讀更多 ",-1),e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),e("polyline",{points:"12 5 19 12 12 19"})],-1)])],8,de)])]))),128))]))])])),R(M,{name:"slide-fade"},{default:T(()=>[l.value?(a(),i("div",pe,[e("button",{class:"back-button",onClick:s},[...t[6]||(t[6]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),e("polyline",{points:"12 19 5 12 12 5"})],-1),B(" 返回列表 ",-1)])]),e("article",ge,[e("div",me,[e("span",_e,p(l.value.date),1),e("span",ve,p(l.value.category),1)]),e("h1",he,p(l.value.title),1),e("div",fe,[(a(!0),i(A,null,E(l.value.tags,o=>(a(),i("span",{key:o,class:"tag"},p(o),1))),128))]),e("div",{class:"detail-content",innerHTML:_(l.value.content,l.value)},null,8,be)]),R(M,{name:"fade-scale"},{default:T(()=>[f.value?(a(),i("button",{key:0,class:"back-to-top",onClick:c,title:"回到頂端"},[...t[7]||(t[7]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),e("polyline",{points:"5 12 12 5 19 12"})],-1)])])):$("",!0)]),_:1})])):$("",!0)]),_:1})]),_:1}))}}),xe=V(ye,[["__scopeId","data-v-54796ba4"]]);export{xe as default};

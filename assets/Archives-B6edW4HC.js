import{i as y,k as L,l as k,d as T,c as E,w,f as r,j as A,e as M,a as e,u as f,t as d,F as x,h as b,b as C,T as D,o as l,_ as R}from"./index-_n44FSoH.js";import{M as O}from"./MainLayout-6RTta_SN.js";const V=""+new URL("k8s1-1-Do-UdlNQ.png",import.meta.url).href,B=""+new URL("k8s1-2-fhbVK00J.png",import.meta.url).href,S=""+new URL("k8s1-3-C9sycbL0.png",import.meta.url).href,N=""+new URL("k8s1-4-CzkECtDA.png",import.meta.url).href,I=""+new URL("k8s1-5-0AQ9vF1-.png",import.meta.url).href;function P(g){const p=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,_=g.match(p);if(!_)return{data:{},content:g};const[,m,a]=_,u={},v=m.split(`
`);let n="",i=!1;for(const h of v){const o=h.trim();if(!o)continue;if(o.startsWith("-")){if(i&&n){const s=o.substring(1).trim();u[n]||(u[n]=[]),u[n].push(s)}continue}const t=o.indexOf(":");if(t!==-1){const s=o.substring(0,t).trim(),c=o.substring(t+1).trim();n=s,i=!c,c&&(u[s]=c,i=!1)}}return{data:u,content:a.trim()}}function U(){const g=y([]),p=y(!0),_=y(null),m=async()=>{try{p.value=!0,_.value=null;const u=Object.entries(Object.assign({"../articles/Kubernetes-簡介.md":()=>k(()=>import("./Kubernetes-簡介-BD1xhKju.js"),[],import.meta.url).then(n=>n.default),"../articles/README.md":()=>k(()=>import("./README-DwhEyodP.js"),[],import.meta.url).then(n=>n.default),"../articles/example-article.md":()=>k(()=>import("./example-article-DxeF3c3U.js"),[],import.meta.url).then(n=>n.default)})).map(async([n,i],h)=>{const o=await i(),{data:t,content:s}=P(o);return{id:h+1,title:t.title||"未命名文章",date:t.date||new Date().toISOString().split("T")[0],category:t.category||"未分類",excerpt:t.excerpt||"",tags:t.tags||[],content:s}}),v=await Promise.all(u);g.value=v.sort((n,i)=>new Date(i.date).getTime()-new Date(n.date).getTime())}catch(a){_.value="載入文章時發生錯誤",console.error("Error loading articles:",a)}finally{p.value=!1}};return L(()=>{m()}),{articles:g,loading:p,error:_,loadArticles:m}}const j={key:0,class:"archives-page"},F={class:"archives-content"},H={key:0,class:"loading-state"},K={key:1,class:"error-state"},z={key:2,class:"empty-state"},Q={key:3,class:"articles-list"},J={class:"article-meta"},W={class:"article-date"},q={class:"article-category"},G={class:"article-title"},X={class:"article-excerpt"},Y={class:"article-tags"},Z={class:"article-footer"},ee=["onClick"],te={key:0,class:"article-detail"},se={class:"detail-container"},ne={class:"detail-meta"},oe={class:"detail-date"},ae={class:"detail-category"},le={class:"detail-title"},re={class:"detail-tags"},ie=["innerHTML"],ce=T({__name:"Archives",setup(g){const{articles:p,loading:_,error:m}=U(),a=y(null),u=o=>{a.value=o,window.scrollTo({top:0,behavior:"smooth"})},v=()=>{a.value=null,window.scrollTo({top:0,behavior:"smooth"})},n=Object.assign({"../articles/images/k8s1-1.png":V,"../articles/images/k8s1-2.png":B,"../articles/images/k8s1-3.png":S,"../articles/images/k8s1-4.png":N,"../articles/images/k8s1-5.png":I}),i={};Object.keys(n).forEach(o=>{const t=o.split("/").pop()||"";i[t]=n[o]});const h=o=>o.replace(/^# (.+)$/gm,"<h1>$1</h1>").replace(/^## (.+)$/gm,"<h2>$1</h2>").replace(/^### (.+)$/gm,"<h3>$1</h3>").replace(/```(\w+)?\n([\s\S]*?)```/g,'<pre><code class="language-$1">$2</code></pre>').replace(/`([^`]+)`/g,"<code>$1</code>").replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(t,s,c)=>{const $=c.split("/").pop();return`<img src="${i[$]||c}" alt="${s}" />`}).replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/\n\n/g,"<br><br>").replace(/\n/g,"<br>");return(o,t)=>(l(),E(O,null,{default:w(()=>[a.value?A("",!0):(l(),r("div",j,[t[5]||(t[5]=e("div",{class:"archives-header"},[e("h1",{class:"page-title"},"文章歸檔"),e("p",{class:"page-subtitle"},"探索技術、記錄成長")],-1)),e("div",F,[f(_)?(l(),r("div",H,[...t[0]||(t[0]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"載入文章中...",-1)])])):f(m)?(l(),r("div",K,[t[1]||(t[1]=e("div",{class:"error-icon"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})])],-1)),t[2]||(t[2]=e("h2",null,"載入失敗",-1)),e("p",null,d(f(m)),1)])):f(p).length===0?(l(),r("div",z,[...t[3]||(t[3]=[e("div",{class:"empty-icon"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"}),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e("polyline",{points:"10 9 9 9 8 9"})])],-1),e("h2",null,"尚未發布文章",-1),e("p",null,"文章正在撰寫中，敬請期待...",-1)])])):(l(),r("div",Q,[(l(!0),r(x,null,b(f(p),s=>(l(),r("article",{key:s.id,class:"article-card"},[e("div",J,[e("span",W,d(s.date),1),e("span",q,d(s.category),1)]),e("h2",G,d(s.title),1),e("p",X,d(s.excerpt),1),e("div",Y,[(l(!0),r(x,null,b(s.tags,c=>(l(),r("span",{key:c,class:"tag"},d(c),1))),128))]),e("div",Z,[e("button",{class:"read-more",onClick:c=>u(s)},[...t[4]||(t[4]=[C(" 閱讀更多 ",-1),e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),e("polyline",{points:"12 5 19 12 12 19"})],-1)])],8,ee)])]))),128))]))])])),M(D,{name:"slide-fade"},{default:w(()=>[a.value?(l(),r("div",te,[e("button",{class:"back-button",onClick:v},[...t[6]||(t[6]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),e("polyline",{points:"12 19 5 12 12 5"})],-1),C(" 返回列表 ",-1)])]),e("article",se,[e("div",ne,[e("span",oe,d(a.value.date),1),e("span",ae,d(a.value.category),1)]),e("h1",le,d(a.value.title),1),e("div",re,[(l(!0),r(x,null,b(a.value.tags,s=>(l(),r("span",{key:s,class:"tag"},d(s),1))),128))]),e("div",{class:"detail-content",innerHTML:h(a.value.content)},null,8,ie)])])):A("",!0)]),_:1})]),_:1}))}}),_e=R(ce,[["__scopeId","data-v-b61dfba3"]]);export{_e as default};

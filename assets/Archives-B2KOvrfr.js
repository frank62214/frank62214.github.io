import{i as w,k as E,l as K,d as T,c as M,w as C,f as c,j as A,e as B,a as e,u as x,t as d,F as L,h as $,b as R,T as D,o,_ as N}from"./index-CCt5DfbG.js";import{M as O}from"./MainLayout-atP40qVL.js";const P=""+new URL("image-CcIGevkB.png",import.meta.url).href,U=""+new URL("image1-BLChrixO.png",import.meta.url).href,V=""+new URL("image2-BQwhXcT5.png",import.meta.url).href,I=""+new URL("image3-_gj34ZZH.png",import.meta.url).href,S=""+new URL("k8s1-1-Do-UdlNQ.png",import.meta.url).href,j=""+new URL("k8s1-2-fhbVK00J.png",import.meta.url).href,F=""+new URL("k8s1-3-C9sycbL0.png",import.meta.url).href,H=""+new URL("k8s1-4-CzkECtDA.png",import.meta.url).href,Q=""+new URL("k8s1-5-0AQ9vF1-.png",import.meta.url).href;function z(h){const g=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,p=h.match(g);if(!p)return{data:{},content:h};const[,v,l]=p,_={},b=v.split(`
`);let n="",i=!1;for(const y of b){const r=y.trim();if(!r)continue;if(r.startsWith("-")){if(i&&n){const s=r.substring(1).trim();_[n]||(_[n]=[]),_[n].push(s)}continue}const t=r.indexOf(":");if(t!==-1){const s=r.substring(0,t).trim(),a=r.substring(t+1).trim();n=s,i=!a,a&&(_[s]=a,i=!1)}}return{data:_,content:l.trim()}}function Z(){const h=w([]),g=w(!0),p=w(null),v=async()=>{try{g.value=!0,p.value=null;const _=Object.entries(Object.assign({"../articles/Kubernetes/Kubernetes-三大元件/Kubernetes-三大元件.md":()=>K(()=>import("./Kubernetes-三大元件-KtFu-wnT.js"),[],import.meta.url).then(n=>n.default),"../articles/Kubernetes/Kubernetes-簡介/Kubernetes-簡介.md":()=>K(()=>import("./Kubernetes-簡介-BD1xhKju.js"),[],import.meta.url).then(n=>n.default),"../articles/README.md":()=>K(()=>import("./README-DA2unZbt.js"),[],import.meta.url).then(n=>n.default)})).filter(([n])=>(n.split("/").pop()||"")!=="README.md").map(async([n,i],y)=>{const r=await i(),{data:t,content:s}=z(r),a=n.split("/"),f=a[a.length-1];let u,m,k;return a.length>=5?(u=a[a.length-3],m=a[a.length-2],k=`../articles/${u}/${m}/images`):(u="未分類",m=f.replace(".md",""),k="../articles/images"),{id:y+1,title:t.title||m||"未命名文章",date:t.date||new Date().toISOString().split("T")[0],category:t.category||"未分類",series:u,excerpt:t.excerpt||"",tags:t.tags||[],content:s,imagePath:k}}),b=await Promise.all(_);h.value=b.sort((n,i)=>new Date(i.date).getTime()-new Date(n.date).getTime())}catch(l){p.value="載入文章時發生錯誤",console.error("Error loading articles:",l)}finally{g.value=!1}};return E(()=>{v()}),{articles:h,loading:g,error:p,loadArticles:v}}const G={key:0,class:"archives-page"},J={class:"archives-content"},W={key:0,class:"loading-state"},X={key:1,class:"error-state"},q={key:2,class:"empty-state"},Y={key:3,class:"articles-list"},ee={class:"article-meta"},te={class:"article-date"},se={class:"article-category"},ne={class:"article-title"},ae={class:"article-excerpt"},re={class:"article-tags"},le={class:"article-footer"},ie=["onClick"],oe={key:0,class:"article-detail"},ce={class:"detail-container"},ue={class:"detail-meta"},de={class:"detail-date"},_e={class:"detail-category"},ge={class:"detail-title"},pe={class:"detail-tags"},me=["innerHTML"],ve=T({__name:"Archives",setup(h){const{articles:g,loading:p,error:v}=Z(),l=w(null),_=r=>{l.value=r,window.scrollTo({top:0,behavior:"smooth"})},b=()=>{l.value=null,window.scrollTo({top:0,behavior:"smooth"})},n=Object.assign({"../articles/Kubernetes/Kubernetes-三大元件/images/image.png":P,"../articles/Kubernetes/Kubernetes-三大元件/images/image1.png":U,"../articles/Kubernetes/Kubernetes-三大元件/images/image2.png":V,"../articles/Kubernetes/Kubernetes-三大元件/images/image3.png":I,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-1.png":S,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-2.png":j,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-3.png":F,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-4.png":H,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-5.png":Q}),i={};Object.entries(n).forEach(([r,t])=>{i[r]=t;const s=r.split("/").pop()||"";i[s]||(i[s]=t)});const y=(r,t)=>r.replace(/^# (.+)$/gm,"<h1>$1</h1>").replace(/^## (.+)$/gm,"<h2>$1</h2>").replace(/^### (.+)$/gm,"<h3>$1</h3>").replace(/```(\w+)?\n([\s\S]*?)```/g,'<pre><code class="language-$1">$2</code></pre>').replace(/`([^`]+)`/g,"<code>$1</code>").replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(s,a,f)=>{const u=f.split("/").pop();let m=f;if(t&&u){const k=`${t.imagePath}/${u}`;m=i[k]||i[u]||f}else u&&(m=i[u]||f);return`<img src="${m}" alt="${a}" />`}).replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/\n\n/g,"<br><br>").replace(/\n/g,"<br>");return(r,t)=>(o(),M(O,null,{default:C(()=>[l.value?A("",!0):(o(),c("div",G,[t[5]||(t[5]=e("div",{class:"archives-header"},[e("h1",{class:"page-title"},"文章歸檔"),e("p",{class:"page-subtitle"},"探索技術、記錄成長")],-1)),e("div",J,[x(p)?(o(),c("div",W,[...t[0]||(t[0]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"載入文章中...",-1)])])):x(v)?(o(),c("div",X,[t[1]||(t[1]=e("div",{class:"error-icon"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})])],-1)),t[2]||(t[2]=e("h2",null,"載入失敗",-1)),e("p",null,d(x(v)),1)])):x(g).length===0?(o(),c("div",q,[...t[3]||(t[3]=[e("div",{class:"empty-icon"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"}),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e("polyline",{points:"10 9 9 9 8 9"})])],-1),e("h2",null,"尚未發布文章",-1),e("p",null,"文章正在撰寫中，敬請期待...",-1)])])):(o(),c("div",Y,[(o(!0),c(L,null,$(x(g),s=>(o(),c("article",{key:s.id,class:"article-card"},[e("div",ee,[e("span",te,d(s.date),1),e("span",se,d(s.category),1)]),e("h2",ne,d(s.title),1),e("p",ae,d(s.excerpt),1),e("div",re,[(o(!0),c(L,null,$(s.tags,a=>(o(),c("span",{key:a,class:"tag"},d(a),1))),128))]),e("div",le,[e("button",{class:"read-more",onClick:a=>_(s)},[...t[4]||(t[4]=[R(" 閱讀更多 ",-1),e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),e("polyline",{points:"12 5 19 12 12 19"})],-1)])],8,ie)])]))),128))]))])])),B(D,{name:"slide-fade"},{default:C(()=>[l.value?(o(),c("div",oe,[e("button",{class:"back-button",onClick:b},[...t[6]||(t[6]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),e("polyline",{points:"12 19 5 12 12 5"})],-1),R(" 返回列表 ",-1)])]),e("article",ce,[e("div",ue,[e("span",de,d(l.value.date),1),e("span",_e,d(l.value.category),1)]),e("h1",ge,d(l.value.title),1),e("div",pe,[(o(!0),c(L,null,$(l.value.tags,s=>(o(),c("span",{key:s,class:"tag"},d(s),1))),128))]),e("div",{class:"detail-content",innerHTML:y(l.value.content,l.value)},null,8,me)])])):A("",!0)]),_:1})]),_:1}))}}),be=N(ve,[["__scopeId","data-v-d189d62c"]]);export{be as default};

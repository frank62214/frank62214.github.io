import{i as K,k as R,l as w,d as T,c as M,w as A,f as c,j as C,e as D,a as e,u as x,t as d,F as L,h as $,b as E,T as B,o,_ as O}from"./index--5CxPvJ_.js";import{M as P}from"./MainLayout-B_BhFTrN.js";const N=""+new URL("image-CcIGevkB.png",import.meta.url).href,U=""+new URL("image1-BLChrixO.png",import.meta.url).href,V=""+new URL("image2-BQwhXcT5.png",import.meta.url).href,I=""+new URL("image3-_gj34ZZH.png",import.meta.url).href,S=""+new URL("k8s1-1-Do-UdlNQ.png",import.meta.url).href,j=""+new URL("k8s1-2-fhbVK00J.png",import.meta.url).href,F=""+new URL("k8s1-3-C9sycbL0.png",import.meta.url).href,H=""+new URL("k8s1-4-CzkECtDA.png",import.meta.url).href,Q=""+new URL("k8s1-5-0AQ9vF1-.png",import.meta.url).href;function z(h){const p=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,m=h.match(p);if(!m)return{data:{},content:h};const[,v,l]=m,_={},b=v.split(`
`);let s="",i=!1;for(const y of b){const a=y.trim();if(!a)continue;if(a.startsWith("-")){if(i&&s){const n=a.substring(1).trim();_[s]||(_[s]=[]),_[s].push(n)}continue}const t=a.indexOf(":");if(t!==-1){const n=a.substring(0,t).trim(),r=a.substring(t+1).trim();s=n,i=!r,r&&(_[n]=r,i=!1)}}return{data:_,content:l.trim()}}function Z(){const h=K([]),p=K(!0),m=K(null),v=async()=>{try{p.value=!0,m.value=null;const _=Object.entries(Object.assign({"../articles/Kubernetes/Kubernetes-三大元件/Kubernetes-三大元件.md":()=>w(()=>import("./Kubernetes-三大元件-KtFu-wnT.js"),[],import.meta.url).then(s=>s.default),"../articles/Kubernetes/Kubernetes-簡介/Kubernetes-簡介.md":()=>w(()=>import("./Kubernetes-簡介-BD1xhKju.js"),[],import.meta.url).then(s=>s.default),"../articles/README.md":()=>w(()=>import("./README-DA2unZbt.js"),[],import.meta.url).then(s=>s.default),"../articles/example-article.md":()=>w(()=>import("./example-article-DxeF3c3U.js"),[],import.meta.url).then(s=>s.default)})).filter(([s])=>(s.split("/").pop()||"")!=="README.md").map(async([s,i],y)=>{const a=await i(),{data:t,content:n}=z(a),r=s.split("/"),f=r[r.length-1];let u,g,k;return r.length>=5?(u=r[r.length-3],g=r[r.length-2],k=`../articles/${u}/${g}/images`):(u="未分類",g=f.replace(".md",""),k="../articles/images"),{id:y+1,title:t.title||g||"未命名文章",date:t.date||new Date().toISOString().split("T")[0],category:t.category||"未分類",series:u,excerpt:t.excerpt||"",tags:t.tags||[],content:n,imagePath:k}}),b=await Promise.all(_);h.value=b.sort((s,i)=>new Date(i.date).getTime()-new Date(s.date).getTime())}catch(l){m.value="載入文章時發生錯誤",console.error("Error loading articles:",l)}finally{p.value=!1}};return R(()=>{v()}),{articles:h,loading:p,error:m,loadArticles:v}}const G={key:0,class:"archives-page"},J={class:"archives-content"},W={key:0,class:"loading-state"},X={key:1,class:"error-state"},q={key:2,class:"empty-state"},Y={key:3,class:"articles-list"},ee={class:"article-meta"},te={class:"article-date"},se={class:"article-category"},ne={class:"article-title"},re={class:"article-excerpt"},ae={class:"article-tags"},le={class:"article-footer"},ie=["onClick"],oe={key:0,class:"article-detail"},ce={class:"detail-container"},ue={class:"detail-meta"},de={class:"detail-date"},_e={class:"detail-category"},pe={class:"detail-title"},me={class:"detail-tags"},ge=["innerHTML"],ve=T({__name:"Archives",setup(h){const{articles:p,loading:m,error:v}=Z(),l=K(null),_=a=>{l.value=a,window.scrollTo({top:0,behavior:"smooth"})},b=()=>{l.value=null,window.scrollTo({top:0,behavior:"smooth"})},s=Object.assign({"../articles/Kubernetes/Kubernetes-三大元件/images/image.png":N,"../articles/Kubernetes/Kubernetes-三大元件/images/image1.png":U,"../articles/Kubernetes/Kubernetes-三大元件/images/image2.png":V,"../articles/Kubernetes/Kubernetes-三大元件/images/image3.png":I,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-1.png":S,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-2.png":j,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-3.png":F,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-4.png":H,"../articles/Kubernetes/Kubernetes-簡介/images/k8s1-5.png":Q}),i={};Object.entries(s).forEach(([a,t])=>{i[a]=t;const n=a.split("/").pop()||"";i[n]||(i[n]=t)});const y=(a,t)=>a.replace(/^# (.+)$/gm,"<h1>$1</h1>").replace(/^## (.+)$/gm,"<h2>$1</h2>").replace(/^### (.+)$/gm,"<h3>$1</h3>").replace(/```(\w+)?\n([\s\S]*?)```/g,'<pre><code class="language-$1">$2</code></pre>').replace(/`([^`]+)`/g,"<code>$1</code>").replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(n,r,f)=>{const u=f.split("/").pop();let g=f;if(t&&u){const k=`${t.imagePath}/${u}`;g=i[k]||i[u]||f}else u&&(g=i[u]||f);return`<img src="${g}" alt="${r}" />`}).replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/\n\n/g,"<br><br>").replace(/\n/g,"<br>");return(a,t)=>(o(),M(P,null,{default:A(()=>[l.value?C("",!0):(o(),c("div",G,[t[5]||(t[5]=e("div",{class:"archives-header"},[e("h1",{class:"page-title"},"文章歸檔"),e("p",{class:"page-subtitle"},"探索技術、記錄成長")],-1)),e("div",J,[x(m)?(o(),c("div",W,[...t[0]||(t[0]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"載入文章中...",-1)])])):x(v)?(o(),c("div",X,[t[1]||(t[1]=e("div",{class:"error-icon"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})])],-1)),t[2]||(t[2]=e("h2",null,"載入失敗",-1)),e("p",null,d(x(v)),1)])):x(p).length===0?(o(),c("div",q,[...t[3]||(t[3]=[e("div",{class:"empty-icon"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"}),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e("polyline",{points:"10 9 9 9 8 9"})])],-1),e("h2",null,"尚未發布文章",-1),e("p",null,"文章正在撰寫中，敬請期待...",-1)])])):(o(),c("div",Y,[(o(!0),c(L,null,$(x(p),n=>(o(),c("article",{key:n.id,class:"article-card"},[e("div",ee,[e("span",te,d(n.date),1),e("span",se,d(n.category),1)]),e("h2",ne,d(n.title),1),e("p",re,d(n.excerpt),1),e("div",ae,[(o(!0),c(L,null,$(n.tags,r=>(o(),c("span",{key:r,class:"tag"},d(r),1))),128))]),e("div",le,[e("button",{class:"read-more",onClick:r=>_(n)},[...t[4]||(t[4]=[E(" 閱讀更多 ",-1),e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),e("polyline",{points:"12 5 19 12 12 19"})],-1)])],8,ie)])]))),128))]))])])),D(B,{name:"slide-fade"},{default:A(()=>[l.value?(o(),c("div",oe,[e("button",{class:"back-button",onClick:b},[...t[6]||(t[6]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),e("polyline",{points:"12 19 5 12 12 5"})],-1),E(" 返回列表 ",-1)])]),e("article",ce,[e("div",ue,[e("span",de,d(l.value.date),1),e("span",_e,d(l.value.category),1)]),e("h1",pe,d(l.value.title),1),e("div",me,[(o(!0),c(L,null,$(l.value.tags,n=>(o(),c("span",{key:n,class:"tag"},d(n),1))),128))]),e("div",{class:"detail-content",innerHTML:y(l.value.content,l.value)},null,8,ge)])])):C("",!0)]),_:1})]),_:1}))}}),be=O(ve,[["__scopeId","data-v-d189d62c"]]);export{be as default};

import{d as y,i as m,p as x,k as _,f as i,a as e,e as c,r as g,w as v,g as p,t as k,o as r,_ as h,q as w,u,s as b}from"./index-BqKZDtSd.js";const B="https://script.google.com/macros/s/AKfycbyqeP_Pn6HnXAQhbUWa4m5UxV9TVyj43YMBek1YHBojQH3U1OAI5xqZTOQN8eWBkda9Zg/exec";async function T(){try{const t=await fetch(B,{method:"GET",redirect:"follow"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();return a.success&&a.totalUsers!==void 0?a.totalUsers:(console.error("GA4 API error:",a.error),0)}catch(t){return console.error("Failed to fetch GA4 data:",t),0}}function A(t){return t.toLocaleString("zh-TW")}const C={class:"nav-sidebar"},M={class:"nav-menu"},S={class:"visitor-counter"},H={class:"counter-display"},U={key:0,class:"counter-loading"},$={key:1,class:"counter-number"},I={key:2,class:"counter-error"},P=y({__name:"NavigationSidebar",setup(t){const a=m(0),s=m(!0),f=x(()=>A(a.value));return _(async()=>{try{a.value=await T()}catch(n){console.error("Failed to load visitor count:",n)}finally{s.value=!1}}),(n,o)=>{const d=g("router-link");return r(),i("aside",C,[o[5]||(o[5]=e("div",{class:"sidebar-header"},[e("h1",{class:"site-title"},"Hackdog Place")],-1)),e("nav",M,[c(d,{to:"/",class:"nav-item","active-class":"active"},{default:v(()=>[...o[0]||(o[0]=[e("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e("polyline",{points:"9 22 9 12 15 12 15 22"})],-1),e("span",null,"Home",-1)])]),_:1}),c(d,{to:"/resume",class:"nav-item","active-class":"active"},{default:v(()=>[...o[1]||(o[1]=[e("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"}),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e("polyline",{points:"10 9 9 9 8 9"})],-1),e("span",null,"Resume",-1)])]),_:1}),c(d,{to:"/about",class:"nav-item","active-class":"active"},{default:v(()=>[...o[2]||(o[2]=[e("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),e("span",null,"About",-1)])]),_:1}),c(d,{to:"/archives",class:"nav-item","active-class":"active"},{default:v(()=>[...o[3]||(o[3]=[e("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("polyline",{points:"21 8 21 21 3 21 3 8"}),e("rect",{x:"1",y:"3",width:"22",height:"5"}),e("line",{x1:"10",y1:"12",x2:"14",y2:"12"})],-1),e("span",null,"Archives",-1)])]),_:1})]),e("div",S,[o[4]||(o[4]=p('<div class="counter-label" data-v-efdad8c6><svg class="counter-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-v-efdad8c6><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-efdad8c6></path><circle cx="9" cy="7" r="4" data-v-efdad8c6></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-efdad8c6></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-efdad8c6></path></svg><span data-v-efdad8c6>累計訪客</span></div>',1)),e("div",H,[s.value?(r(),i("div",U,"載入中...")):a.value>0?(r(),i("div",$,k(f.value),1)):(r(),i("div",I,"暫無數據"))])])])}}}),N=h(P,[["__scopeId","data-v-efdad8c6"]]),V=()=>{if(typeof window>"u")return"light";const t=localStorage.getItem("theme");return t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},l=m(V());typeof window<"u"&&document.documentElement.setAttribute("data-theme",l.value);function E(){const t=()=>{l.value=l.value==="light"?"dark":"light"},a=s=>{l.value=s};return w(l,s=>{typeof window<"u"&&(localStorage.setItem("theme",s),document.documentElement.setAttribute("data-theme",s))},{immediate:!1}),{theme:l,toggleTheme:t,setTheme:a}}const z={class:"main-layout"},L=["title"],j={key:0,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},q={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},D={class:"main-content-wrapper"},G={class:"main-content"},Q=y({__name:"MainLayout",setup(t){const{theme:a,toggleTheme:s}=E();return(f,n)=>(r(),i("div",z,[e("button",{class:"theme-toggle",onClick:n[0]||(n[0]=(...o)=>u(s)&&u(s)(...o)),title:u(a)==="light"?"切換到暗黑模式":"切換到明亮模式"},[u(a)==="light"?(r(),i("svg",j,[...n[1]||(n[1]=[e("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},null,-1)])])):(r(),i("svg",q,[...n[2]||(n[2]=[p('<circle cx="12" cy="12" r="5" data-v-e9fce6b1></circle><line x1="12" y1="1" x2="12" y2="3" data-v-e9fce6b1></line><line x1="12" y1="21" x2="12" y2="23" data-v-e9fce6b1></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-v-e9fce6b1></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-v-e9fce6b1></line><line x1="1" y1="12" x2="3" y2="12" data-v-e9fce6b1></line><line x1="21" y1="12" x2="23" y2="12" data-v-e9fce6b1></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-v-e9fce6b1></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-v-e9fce6b1></line>',9)])]))],8,L),c(N),e("div",D,[e("main",G,[b(f.$slots,"default",{},void 0)])])]))}}),W=h(Q,[["__scopeId","data-v-e9fce6b1"]]);export{W as M};
